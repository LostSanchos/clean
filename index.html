<!DOCTYPE html>
<html lang="cs" class="scroll-smooth">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Clean Master - Kalkulaƒçka</title>
    <style>
        .service-item { transition: all 0.3s ease; }
        .service-item:hover { background-color: #f3f4f6; }
        .calculator-section { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .calc-card { background: white; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.1); }
        .time-slot { transition: all 0.2s ease; }
        .time-slot:hover:not(.disabled) { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        .time-slot.selected { background-color: #1e3a8a; color: white; }
        .time-slot.disabled { opacity: 0.5; cursor: not-allowed; background-color: #f3f4f6; }
    </style>
</head>
<body class="antialiased">
    <div class="min-h-screen">
        <nav class="fixed top-0 w-full bg-white/95 backdrop-blur-sm shadow-sm z-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <div class="text-2xl font-bold text-[#1e3a8a]">Clean Master</div>
                    <div class="hidden md:flex space-x-8">
                        <a href="#sluzby" class="text-gray-700 hover:text-[#1e3a8a] transition">Slu≈æby</a>
                        <a href="#calculator" class="text-gray-700 hover:text-[#1e3a8a] transition">Kalkulaƒçka</a>
                        <a href="#kontakt" class="text-gray-700 hover:text-[#1e3a8a] transition">Kontakt</a>
                    </div>
                    <a href="#calculator" class="bg-[#1e3a8a] text-white px-6 py-2 rounded-lg hover:bg-[#1e40af] transition">Kalkulaƒçka ceny</a>
                </div>
            </div>
        </nav>

        <!-- Hero Section -->
        

        <!-- Calculator Section -->
        <section id="calculator" class="py-20 calculator-section">
            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-white mb-4">Kalkulaƒçka ceny √∫klidu</h2>
                    <p class="text-xl text-white/90">Dostupn√© ƒçasy se aktualizuj√≠ automaticky</p>
                </div>

                <div class="calc-card p-8 md:p-12">
                    <form id="calculator-form">
                        <!-- Poƒçet pokoj≈Ø -->
                        <div class="mb-8">
                            <label class="block text-lg font-semibold text-gray-900 mb-4">Poƒçet pokoj≈Ø</label>
                            <div class="grid grid-cols-5 gap-3">
                                <button type="button" class="room-btn py-3 px-4 border-2 border-gray-300 rounded-lg font-semibold hover:border-[#1e3a8a] hover:bg-blue-50 transition" data-rooms="1">1</button>
                                <button type="button" class="room-btn py-3 px-4 border-2 border-gray-300 rounded-lg font-semibold hover:border-[#1e3a8a] hover:bg-blue-50 transition" data-rooms="2">2</button>
                                <button type="button" class="room-btn py-3 px-4 border-2 border-gray-300 rounded-lg font-semibold hover:border-[#1e3a8a] hover:bg-blue-50 transition" data-rooms="3">3</button>
                                <button type="button" class="room-btn py-3 px-4 border-2 border-gray-300 rounded-lg font-semibold hover:border-[#1e3a8a] hover:bg-blue-50 transition" data-rooms="4">4</button>
                                <button type="button" class="room-btn py-3 px-4 border-2 border-gray-300 rounded-lg font-semibold hover:border-[#1e3a8a] hover:bg-blue-50 transition" data-rooms="5">5+</button>
                            </div>
                        </div>

                        <!-- Typ √∫klidu -->
                        <div class="mb-8">
                            <label class="block text-lg font-semibold text-gray-900 mb-4">Typ √∫klidu</label>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                                <button type="button" class="cleaning-type-btn py-4 px-6 border-2 border-gray-300 rounded-lg font-semibold hover:border-[#1e3a8a] hover:bg-blue-50 transition" data-type="regular" data-price="800">
                                    <div class="text-sm text-gray-600 mb-1">Pravideln√°</div>
                                    <div class="text-lg font-bold">800 Kƒç/hod</div>
                                </button>
                                <button type="button" class="cleaning-type-btn py-4 px-6 border-2 border-gray-300 rounded-lg font-semibold hover:border-[#1e3a8a] hover:bg-blue-50 transition" data-type="oneTime" data-price="1200">
                                    <div class="text-sm text-gray-600 mb-1">Jednor√°zov√°</div>
                                    <div class="text-lg font-bold">1200 Kƒç/hod</div>
                                </button>
                                <button type="button" class="cleaning-type-btn py-4 px-6 border-2 border-gray-300 rounded-lg font-semibold hover:border-[#1e3a8a] hover:bg-blue-50 transition" data-type="general" data-price="1500">
                                    <div class="text-sm text-gray-600 mb-1">Gener√°ln√≠</div>
                                    <div class="text-lg font-bold">1500 Kƒç/hod</div>
                                </button>
                            </div>
                        </div>

                        <!-- Dopl≈àkov√© slu≈æby -->
                        <div class="mb-8">
                            <label class="block text-lg font-semibold text-gray-900 mb-4">Dopl≈àkov√© slu≈æby</label>
                            <div class="space-y-3">
                                <div class="service-item p-4 border-2 border-gray-200 rounded-lg flex items-center justify-between">
                                    <div class="flex items-center">
                                        <input type="checkbox" id="balcony" class="extra-service w-5 h-5 text-[#1e3a8a] rounded" data-price="500">
                                        <label for="balcony" class="ml-3 text-gray-900 font-medium cursor-pointer">√öklid balkonu</label>
                                    </div>
                                    <span class="text-gray-600 font-semibold">500 Kƒç</span>
                                </div>
                                <div class="service-item p-4 border-2 border-gray-200 rounded-lg flex items-center justify-between">
                                    <div class="flex items-center">
                                        <input type="checkbox" id="garage" class="extra-service w-5 h-5 text-[#1e3a8a] rounded" data-price="800">
                                        <label for="garage" class="ml-3 text-gray-900 font-medium cursor-pointer">√öklid gar√°≈æe</label>
                                    </div>
                                    <span class="text-gray-600 font-semibold">800 Kƒç</span>
                                </div>
                                <div class="service-item p-4 border-2 border-gray-200 rounded-lg flex items-center justify-between">
                                    <div class="flex items-center">
                                        <input type="checkbox" id="fridge" class="extra-service w-5 h-5 text-[#1e3a8a] rounded" data-price="400">
                                        <label for="fridge" class="ml-3 text-gray-900 font-medium cursor-pointer">Myt√≠ ledniƒçka zevnit≈ô</label>
                                    </div>
                                    <span class="text-gray-600 font-semibold">400 Kƒç</span>
                                </div>
                                <div class="service-item p-4 border-2 border-gray-200 rounded-lg flex items-center justify-between">
                                    <div class="flex items-center">
                                        <input type="checkbox" id="windows" class="extra-service w-5 h-5 text-[#1e3a8a] rounded" data-price="300">
                                        <label for="windows" class="ml-3 text-gray-900 font-medium cursor-pointer">Myt√≠ oken z obou stran (za okno)</label>
                                    </div>
                                    <span class="text-gray-600 font-semibold">300 Kƒç/okno</span>
                                </div>
                            </div>
                        </div>

                        <!-- Vlastn√≠ prost≈ôedky -->
                        <div class="mb-8">
                            <div class="bg-green-50 border-2 border-green-200 rounded-lg p-4">
                                <div class="flex items-center">
                                    <input type="checkbox" id="ownSupplies" class="w-5 h-5 text-green-600 rounded">
                                    <label for="ownSupplies" class="ml-3 text-gray-900 font-medium cursor-pointer">
                                        M√°m v≈°echny pot≈ôebn√© prost≈ôedky doma
                                        <span class="text-green-600 font-semibold ml-2">(-200 Kƒç sleva)</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- V√Ωbƒõr data a ƒçasu -->
                        <div class="mb-8">
                            <label class="block text-lg font-semibold text-gray-900 mb-4">Vyberte datum a ƒças</label>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <label for="cleaningDate" class="block text-sm font-medium text-gray-700 mb-2">Datum √∫klidu</label>
                                    <input type="date" id="cleaningDate" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#1e3a8a] focus:outline-none" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">
                                        Dostupn√© ƒçasy
                                        <span id="loadingIndicator" class="text-xs text-blue-600 ml-2" style="display:none;">‚ü≥ Naƒç√≠t√°n√≠...</span>
                                    </label>
                                    <div id="timeSlots" class="grid grid-cols-3 gap-2 min-h-[100px]">
                                        <div class="col-span-3 text-center text-gray-500 py-8 text-sm">
                                            Vyberte datum pro zobrazen√≠ dostupn√Ωch ƒças≈Ø
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Kontaktn√≠ √∫daje -->
                        <div class="mb-8">
                            <label class="block text-lg font-semibold text-gray-900 mb-4">Kontaktn√≠ √∫daje</label>
                            <div class="grid md:grid-cols-2 gap-4">
                                <input type="text" id="userName" name="userName" placeholder="Va≈°e jm√©no" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#1e3a8a] focus:outline-none" required>
                                <input type="tel" id="userPhone" name="userPhone" placeholder="Telefon" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#1e3a8a] focus:outline-none" required>
                                <input type="email" id="email" placeholder="E-mail" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#1e3a8a] focus:outline-none" required>
                                <input type="text" id="userService" name="userService" placeholder="Typ slu≈æby" value="√öklid bytu" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#1e3a8a] focus:outline-none" readonly>
                            </div>
                            <div class="mt-4">
                                <textarea id="message" rows="3" placeholder="Pozn√°mka k objedn√°vce (nepovinn√©)" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#1e3a8a] focus:outline-none"></textarea>
                            </div>
                        </div>

                        <!-- Celkov√° cena -->
                        <div class="bg-gradient-to-r from-[#1e3a8a] to-[#1e40af] rounded-xl p-6 mb-6">
                            <div class="flex justify-between items-center text-white">
                                <div>
                                    <div class="text-sm opacity-90 mb-1">Celkov√° cena</div>
                                    <div class="text-4xl font-bold" id="totalPrice">0 Kƒç</div>
                                    <div class="text-sm opacity-75 mt-2" id="estimatedTime">Odhadovan√Ω ƒças: 0 hod</div>
                                </div>
                                <div class="text-right">
                                    <div class="text-sm opacity-90 mb-1">Vybran√Ω ƒças</div>
                                    <div class="text-xl font-semibold" id="selectedTime">--:--</div>
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="w-full bg-green-600 text-white py-4 rounded-lg text-lg font-bold hover:bg-green-700 transition shadow-lg">
                            Odeslat nez√°vaznou popt√°vku
                        </button>
                    </form>
                </div>
            </div>
        </section>
    </div>

    <script>
        const API_URL = 'http://localhost:3000';
        
        let selectedRooms = 0;
        let selectedCleaningType = null;
        let cleaningTypePrice = 0;
        let selectedTime = null;
        let selectedDate = null;
        let currentDiscount = 0; // –¢–µ–∫—É—â–∞—è —Å–∫–∏–¥–∫–∞ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –¥–∞—Ç—ã

        // Room selection
        document.querySelectorAll('.room-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.room-btn').forEach(b => {
                    b.classList.remove('border-[#1e3a8a]', 'bg-blue-100');
                });
                this.classList.add('border-[#1e3a8a]', 'bg-blue-100');
                selectedRooms = parseInt(this.dataset.rooms);
                calculateTotal();
            });
        });

        // Cleaning type selection
        document.querySelectorAll('.cleaning-type-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.cleaning-type-btn').forEach(b => {
                    b.classList.remove('border-[#1e3a8a]', 'bg-blue-100');
                });
                this.classList.add('border-[#1e3a8a]', 'bg-blue-100');
                selectedCleaningType = this.dataset.type;
                cleaningTypePrice = parseInt(this.dataset.price);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª–µ "Typ slu≈æby"
                const serviceNames = {
                    'regular': 'Pravideln√Ω √∫klid',
                    'oneTime': 'Jednor√°zov√Ω √∫klid',
                    'general': 'Gener√°ln√≠ √∫klid'
                };
                document.getElementById('userService').value = serviceNames[selectedCleaningType] || '√öklid bytu';
                
                calculateTotal();
            });
        });

        // Extra services
        document.querySelectorAll('.extra-service').forEach(checkbox => {
            checkbox.addEventListener('change', calculateTotal);
        });

        // Own supplies
        document.getElementById('ownSupplies').addEventListener('change', calculateTotal);

        // Set minimum date to today
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('cleaningDate').setAttribute('min', today);

        // Date selection - –∑–∞–≥—Ä—É–∂–∞–µ–º –≤—Ä–µ–º—è —Å —Å–µ—Ä–≤–µ—Ä–∞
        document.getElementById('cleaningDate').addEventListener('change', async function() {
            selectedDate = this.value;
            await loadTimeSlots(selectedDate);
            await loadDiscount(selectedDate); // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–∫–∏–¥–∫—É –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –¥–∞—Ç—ã
        });

        // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ —Å —Å–µ—Ä–≤–µ—Ä–∞
        async function loadTimeSlots(date) {
            const timeSlotsContainer = document.getElementById('timeSlots');
            const loadingIndicator = document.getElementById('loadingIndicator');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
            loadingIndicator.style.display = 'inline';
            timeSlotsContainer.innerHTML = '<div class="col-span-3 text-center text-gray-500 py-8 text-sm">Naƒç√≠t√°n√≠ dostupn√Ωch ƒças≈Ø...</div>';
            
            try {
                const response = await fetch(`${API_URL}/api/time-slots/${date}`);
                
                if (!response.ok) {
                    throw new Error('Chyba naƒç√≠t√°n√≠');
                }
                
                const data = await response.json();
                displayTimeSlots(data);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
                timeSlotsContainer.innerHTML = '<div class="col-span-3 text-center text-red-500 py-8 text-sm">‚ùå Chyba p≈ôipojen√≠ k serveru</div>';
            } finally {
                loadingIndicator.style.display = 'none';
            }
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
        function displayTimeSlots(data) {
            const timeSlotsContainer = document.getElementById('timeSlots');
            timeSlotsContainer.innerHTML = '';
            
            const { availableSlots, bookedSlots } = data;
            
            if (!availableSlots || availableSlots.length === 0) {
                timeSlotsContainer.innerHTML = '<div class="col-span-3 text-center text-gray-500 py-8 text-sm">Pro tento den nejsou dostupn√© ≈æ√°dn√© ƒçasy</div>';
                return;
            }
            
            availableSlots.forEach(time => {
                const isBooked = bookedSlots.includes(time);
                const slot = document.createElement('button');
                slot.type = 'button';
                
                if (isBooked) {
                    // –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ª–æ—Ç
                    slot.className = 'time-slot disabled py-2 px-3 border-2 border-gray-200 rounded-lg font-medium text-sm';
                    slot.textContent = time + ' ‚úï';
                    slot.disabled = true;
                    slot.title = 'Tento ƒças je ji≈æ obsazen';
                } else {
                    // –î–æ—Å—Ç—É–ø–Ω—ã–π —Å–ª–æ—Ç
                    slot.className = 'time-slot py-2 px-3 border-2 border-gray-300 rounded-lg font-medium text-sm hover:border-[#1e3a8a]';
                    slot.textContent = time;
                    slot.dataset.time = time;
                    
                    slot.addEventListener('click', function() {
                        document.querySelectorAll('.time-slot:not(.disabled)').forEach(s => {
                            s.classList.remove('selected');
                        });
                        this.classList.add('selected');
                        selectedTime = this.dataset.time;
                        document.getElementById('selectedTime').textContent = selectedTime;
                    });
                }
                
                timeSlotsContainer.appendChild(slot);
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫–∏–¥–∫–∏ –¥–ª—è –¥–∞—Ç—ã
        async function loadDiscount(date) {
            try {
                const response = await fetch(`${API_URL}/api/discount/${date}`);
                
                if (!response.ok) {
                    currentDiscount = 0;
                    return;
                }
                
                const data = await response.json();
                currentDiscount = data.discount || 0;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–∫–∏–¥–∫–∏
                updateDiscountDisplay();
                calculateTotal(); // –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º —Ü–µ–Ω—É —Å–æ —Å–∫–∏–¥–∫–æ–π
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫–∏–¥–∫–∏:', error);
                currentDiscount = 0;
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–∫–∏–¥–∫–∏
        function updateDiscountDisplay() {
            const dateLabel = document.querySelector('label[for="cleaningDate"]');
            if (!dateLabel) return;
            
            // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π badge –µ—Å–ª–∏ –µ—Å—Ç—å
            const oldBadge = dateLabel.querySelector('.discount-badge');
            if (oldBadge) oldBadge.remove();
            
            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π badge –µ—Å–ª–∏ –µ—Å—Ç—å —Å–∫–∏–¥–∫–∞
            if (currentDiscount > 0) {
                const badge = document.createElement('span');
                badge.className = 'discount-badge ml-2 inline-block bg-green-100 text-green-700 text-xs font-semibold px-2 py-1 rounded';
                badge.textContent = `üí∞ Sleva ${currentDiscount}%`;
                dateLabel.appendChild(badge);
            }
        }

        function calculateTotal() {
            if (!selectedRooms || !selectedCleaningType) {
                document.getElementById('totalPrice').textContent = '0 Kƒç';
                document.getElementById('estimatedTime').textContent = 'Odhadovan√Ω ƒças: 0 hod';
                return;
            }

            const baseHours = selectedRooms * 1.5;
            let totalPrice = baseHours * cleaningTypePrice;

            document.querySelectorAll('.extra-service:checked').forEach(service => {
                totalPrice += parseInt(service.dataset.price);
            });

            if (document.getElementById('ownSupplies').checked) {
                totalPrice -= 200;
            }

            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–∫–∏–¥–∫—É –µ—Å–ª–∏ –µ—Å—Ç—å
            let finalPrice = totalPrice;
            if (currentDiscount > 0) {
                const discountAmount = (totalPrice * currentDiscount) / 100;
                finalPrice = totalPrice - discountAmount;
            }

            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω—ã —Å–æ —Å–∫–∏–¥–∫–æ–π
            if (currentDiscount > 0) {
                document.getElementById('totalPrice').innerHTML = `
                    <span class="line-through text-white/60 text-2xl mr-2">${totalPrice.toLocaleString('cs-CZ')} Kƒç</span>
                    <span class="text-green-300">${finalPrice.toLocaleString('cs-CZ')} Kƒç</span>
                `;
            } else {
                document.getElementById('totalPrice').textContent = totalPrice.toLocaleString('cs-CZ') + ' Kƒç';
            }
            
            document.getElementById('estimatedTime').textContent = `Odhadovan√Ω ƒças: ${baseHours} hod`;
        }

        // Form submission
        document.getElementById('calculator-form').addEventListener('submit', async function(e) {
            e.preventDefault();

            if (!selectedTime || !selectedDate) {
                alert('Pros√≠m vyberte datum a ƒças √∫klidu');
                return;
            }

            const btn = this.querySelector('button[type="submit"]');
            const originalText = btn.textContent;
            btn.textContent = 'Odes√≠l√°n√≠...';
            btn.disabled = true;

            const extraServices = [];
            document.querySelectorAll('.extra-service:checked').forEach(service => {
                extraServices.push(service.nextElementSibling.textContent);
            });

            const formData = {
                name: document.getElementById('userName').value,
                phone: document.getElementById('userPhone').value,
                email: document.getElementById('email').value,
                service: document.getElementById('userService').value,
                message: `
Poƒçet pokoj≈Ø: ${selectedRooms}
Typ √∫klidu: ${selectedCleaningType}
Datum: ${selectedDate}
ƒåas: ${selectedTime}
Dopl≈àkov√© slu≈æby: ${extraServices.length > 0 ? extraServices.join(', ') : '≈Ω√°dn√©'}
Vlastn√≠ prost≈ôedky: ${document.getElementById('ownSupplies').checked ? 'Ano' : 'Ne'}
Celkov√° cena: ${document.getElementById('totalPrice').textContent}

Pozn√°mka: ${document.getElementById('message').value || '≈Ω√°dn√°'}
                `.trim()
            };

            try {
                const response = await fetch(`${API_URL}/send-request`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                });

                if (response.ok) {
                    alert('‚úÖ Dƒõkujeme! Va≈°e popt√°vka byla √∫spƒõ≈°nƒõ odesl√°na.\nVybran√Ω ƒças byl automaticky zarezervov√°n.');
                    this.reset();
                    selectedRooms = 0;
                    selectedCleaningType = null;
                    selectedTime = null;
                    selectedDate = null;
                    document.getElementById('totalPrice').textContent = '0 Kƒç';
                    document.getElementById('selectedTime').textContent = '--:--';
                    document.getElementById('timeSlots').innerHTML = '<div class="col-span-3 text-center text-gray-500 py-8 text-sm">Vyberte datum</div>';
                    document.querySelectorAll('.room-btn, .cleaning-type-btn').forEach(b => {
                        b.classList.remove('border-[#1e3a8a]', 'bg-blue-100');
                    });
                } else {
                    alert('‚ùå Chyba serveru. Zkuste to pros√≠m pozdƒõji.');
                }
            } catch (error) {
                alert('‚ùå Chyba: Server neodpov√≠d√°. Zkontrolujte pros√≠m p≈ôipojen√≠.');
                console.error(error);
            }

            btn.textContent = originalText;
            btn.disabled = false;
        });
    </script>
</body>
</html>
